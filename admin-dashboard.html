<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediLearn - Instructor Dashboard</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- DataTables Bootstrap 5 CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
            color: #1e293b;
            overflow-x: hidden;
        }

        /* --- Sidebar --- */
        .sidebar {
            width: 250px;
            background-color: white;
            border-right: 1px solid #eef1f6;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }
        
        /* Mobile Toggle Logic */
        @media (max-width: 991.98px) {
            .sidebar {
                transform: translateX(-100%);
            }
            .sidebar.show {
                transform: translateX(0);
            }
            .main-content {
                margin-left: 0 !important;
            }
            .mobile-header {
                display: flex !important;
            }
        }

        .brand-section {
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .brand-logo {
            width: 32px;
            height: 32px;
            background-color: #e0f2fe;
            color: #1d7afc;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }
        .brand-text {
            font-weight: 800;
            font-size: 1.1rem;
            color: #0f172a;
        }

        .user-profile-mini {
            padding: 0 1.5rem 1.5rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        .avatar-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }
        .user-info h6 {
            margin: 0;
            font-weight: 700;
            font-size: 0.9rem;
            color: #0f172a;
        }
        .user-info p {
            margin: 0;
            font-size: 0.75rem;
            color: #64748b;
        }

        .nav-menu {
            flex: 1;
            padding: 0 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            color: #64748b;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .nav-item:hover {
            background-color: #f8fafc;
            color: #0f172a;
        }
        .nav-item.active {
            background-color: #e0f2fe;
            color: #0284c7;
        }
        .nav-item i {
            width: 20px;
            text-align: center;
        }

        .logout-btn {
            margin: auto 1rem 1.5rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: #64748b;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
        }
        .logout-btn:hover {
            color: #ef4444; /* Red for logout */
        }

        /* --- Main Content --- */
        .main-content {
            margin-left: 250px;
            padding: 2rem 3rem;
            min-height: 100vh;
            transition: margin-left 0.3s ease;
        }
        .mobile-header {
            display: none; /* Flex on mobile */
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: white;
            border-bottom: 1px solid #eef1f6;
            position: sticky;
            top: 0;
            z-index: 999;
        }

        /* Header Area */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }
        .welcome-text {
            font-weight: 800;
            font-size: 1.75rem;
            color: #0f172a;
            margin: 0;
            letter-spacing: -0.5px;
        }
        .btn-create {
            background-color: #1d7afc;
            border: none;
            color: white;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background 0.2s;
        }
        .btn-create:hover {
            background-color: #1664d6;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }
        .stat-card {
            background: white;
            border: 1px solid #eef1f6;
            border-radius: 1rem;
            padding: 1.5rem;
            transition: transform 0.2s;
        }
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        .stat-label {
            color: #64748b;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        .stat-value {
            font-size: 1.75rem;
            font-weight: 800;
            color: #0f172a;
            margin-bottom: 0.5rem;
        }
        .stat-trend {
            font-size: 0.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        .trend-up { color: #10b981; }
        .trend-down { color: #ef4444; }

        /* Tables & Tabs */
        .tabs-container {
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 0;
        }
        .tab-btn {
            background: none;
            border: none;
            padding: 0.75rem 0;
            margin-right: 2rem;
            font-weight: 600;
            color: #64748b;
            border-bottom: 2px solid transparent;
            font-size: 0.95rem;
        }
        .tab-btn.active {
            color: #1d7afc;
            border-bottom-color: #1d7afc;
        }
        
        .table-container {
            background: white;
            border: 1px solid #eef1f6;
            border-radius: 0.75rem;
            overflow: hidden;
            margin-top: 1.5rem;
            padding: 1rem;
        }
        
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 2rem;
            font-size: 0.75rem;
            font-weight: 700;
            background-color: #dbeafe;
            color: #1e40af;
        }
        
        .action-link {
            color: #1d7afc;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.875rem;
        }
        .action-link:hover {
            text-decoration: underline;
        }

        /* DataTables Customization */
        .dataTables_wrapper .dataTables_length, 
        .dataTables_wrapper .dataTables_filter {
            margin-bottom: 1rem;
            color: #64748b;
            font-size: 0.9rem;
        }
        .dataTables_wrapper .dataTables_info,
        .dataTables_wrapper .dataTables_paginate {
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        
        /* Specific header/cell styling overrides for DataTables */
        table.dataTable thead th {
            border-bottom: 1px solid #e2e8f0 !important;
            color: #64748b;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            padding: 1rem !important;
        }
        table.dataTable tbody td {
            padding: 1rem !important;
            vertical-align: middle;
            color: #334155;
            font-weight: 500;
            font-size: 0.9rem;
            border-bottom: 1px solid #f1f5f9;
        }

        /* Filter Row Styling */
        .filters input {
            width: 100%;
            padding: 0.4rem;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 400;
            color: #334155;
        }
        .filters input::placeholder {
            color: #94a3b8;
        }
    </style>
</head>
<body>

    <!-- Mobile Header (Visible only on small screens) -->
    <div class="mobile-header">
        <div class="d-flex align-items-center gap-2">
            <button class="btn btn-light border-0 p-1" onclick="toggleSidebar()">
                <i class="fa-solid fa-bars fs-5"></i>
            </button>
            <div class="brand-logo" style="width: 28px; height: 28px;">
                <i class="fa-solid fa-shield-halved fa-xs"></i>
            </div>
            <span class="fw-bold">MedLearn</span>
        </div>
        <div class="d-flex align-items-center gap-3">
             <i class="fa-regular fa-bell text-secondary"></i>
             <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=200&auto=format&fit=crop" 
                  class="avatar-img" style="width: 32px; height: 32px;" alt="User">
        </div>
    </div>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <!-- Brand -->
        <div class="brand-section">
            <div class="brand-logo">
                <i class="fa-solid fa-shield-halved"></i>
            </div>
            <span class="brand-text">MedLearn</span>
        </div>

        <!-- User Profile Mini -->
        <div class="user-profile-mini">
            <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=200&auto=format&fit=crop" 
                 alt="Dr. Carter" class="avatar-img">
            <div class="user-info">
                <h6>Dr. Emily Carter</h6>
                <p>Cardiologist</p>
            </div>
        </div>

        <!-- Navigation -->
        <div class="nav-menu">
            <a href="#" class="nav-item active">
                <i class="fa-solid fa-table-columns"></i> Dashboard
            </a>
            <a href="#" class="nav-item">
                <i class="fa-solid fa-graduation-cap"></i> My Courses
            </a>
            <a href="#" class="nav-item">
                <i class="fa-solid fa-chart-simple"></i> Analytics
            </a>
            <a href="#" class="nav-item">
                <i class="fa-solid fa-money-bill-wave"></i> Earnings
            </a>
            <a href="#" class="nav-item">
                <i class="fa-regular fa-user"></i> Profile
            </a>
        </div>

        <!-- Logout -->
        <a href="#" class="logout-btn">
            <i class="fa-solid fa-arrow-right-from-bracket"></i> Logout
        </a>
    </nav>

    <!-- Main Content Area -->
    <div class="main-content">
        
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="welcome-text">Welcome back, Dr. Carter</h1>
            <button class="btn-create shadow-sm">
                <i class="fa-solid fa-plus"></i> Create New Session
            </button>
        </div>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <!-- Card 1 -->
            <div class="stat-card">
                <div class="stat-label">Total Courses</div>
                <div class="stat-value">28</div>
                <div class="stat-trend trend-up">
                    <i class="fa-solid fa-arrow-trend-up"></i> +5%
                </div>
            </div>
            <!-- Card 2 -->
            <div class="stat-card">
                <div class="stat-label">Enrolled Learners</div>
                <div class="stat-value">3,450</div>
                <div class="stat-trend trend-up">
                    <i class="fa-solid fa-arrow-trend-up"></i> +12%
                </div>
            </div>
            <!-- Card 3 -->
            <div class="stat-card">
                <div class="stat-label">Total Earnings</div>
                <div class="stat-value">$25,670</div>
                <div class="stat-trend trend-down">
                    <i class="fa-solid fa-arrow-trend-down"></i> -2%
                </div>
            </div>
            <!-- Card 4 -->
            <div class="stat-card">
                <div class="stat-label">Average Rating</div>
                <div class="stat-value">4.8 <span class="text-warning fs-5">â˜…</span></div>
                <div class="stat-trend trend-up">
                    <i class="fa-solid fa-arrow-trend-up"></i> +0.1
                </div>
            </div>
        </div>

        <!-- Content Tabs -->
        <div class="tabs-container">
            <button class="tab-btn active">Upcoming Live Sessions</button>
            <button class="tab-btn">Recently Uploaded Content</button>
        </div>

        <!-- DataTables Table -->
        <div class="table-container shadow-sm">
            <div class="table-responsive">
                <table id="sessionsTable" class="table table-hover w-100">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Date & Time</th>
                            <th>Learners</th>
                            <th>Status</th>
                            <th class="text-end">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="fw-bold">Advanced ECG Interpretation</td>
                            <td>Oct 26, 2024 at 2:00 PM EST</td>
                            <td>150</td>
                            <td><span class="status-badge">Scheduled</span></td>
                            <td class="text-end"><a href="#" class="action-link">Start Session</a></td>
                        </tr>
                        <tr>
                            <td class="fw-bold">Pediatric Cardiology Update</td>
                            <td>Nov 2, 2024 at 1:00 PM EST</td>
                            <td>210</td>
                            <td><span class="status-badge">Scheduled</span></td>
                            <td class="text-end"><a href="#" class="action-link">Edit Details</a></td>
                        </tr>
                        <tr>
                            <td class="fw-bold">Innovations in Cardiac Surgery</td>
                            <td>Nov 9, 2024 at 3:00 PM EST</td>
                            <td>95</td>
                            <td><span class="status-badge">Scheduled</span></td>
                            <td class="text-end"><a href="#" class="action-link">View Details</a></td>
                        </tr>
                        <tr>
                            <td class="fw-bold">Emergency Response Training</td>
                            <td>Nov 15, 2024 at 10:00 AM EST</td>
                            <td>300</td>
                            <td><span class="status-badge">Scheduled</span></td>
                            <td class="text-end"><a href="#" class="action-link">Edit Details</a></td>
                        </tr>
                        <tr>
                            <td class="fw-bold">Post-Op Care Fundamentals</td>
                            <td>Nov 20, 2024 at 4:00 PM EST</td>
                            <td>120</td>
                            <td><span class="status-badge">Scheduled</span></td>
                            <td class="text-end"><a href="#" class="action-link">View Details</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

    <script>
        // Simple Sidebar Toggle for Mobile
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('show');
        }

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const toggleBtn = event.target.closest('button[onclick="toggleSidebar()"]');
            
            if (window.innerWidth < 992 && 
                sidebar.classList.contains('show') && 
                !sidebar.contains(event.target) && 
                !toggleBtn) {
                sidebar.classList.remove('show');
            }
        });

        // Initialize DataTable with Column Filtering
        $(document).ready(function() {
            // Clone the header row for filters
            $('#sessionsTable thead tr')
                .clone(true)
                .addClass('filters')
                .appendTo('#sessionsTable thead');

            var table = $('#sessionsTable').DataTable({
                orderCellsTop: true,
                fixedHeader: true,
                language: {
                    search: "_INPUT_",
                    searchPlaceholder: "Search all columns..."
                },
                initComplete: function () {
                    var api = this.api();

                    // For each column in the second header row
                    api.columns().eq(0).each(function (colIdx) {
                        var cell = $('.filters th').eq(
                            $(api.column(colIdx).header()).index()
                        );
                        
                        // Clear the cell content (title)
                        var title = $(cell).text();
                        
                        // Don't add search for "Action" column (index 4)
                        if(colIdx === 4) {
                            $(cell).html('');
                            return;
                        }

                        $(cell).html('<input type="text" class="form-control form-control-sm" placeholder="Filter ' + title + '" />');

                        // Apply filter
                        $('input', $('.filters th').eq($(api.column(colIdx).header()).index()))
                            .off('keyup change')
                            .on('change', function (e) {
                                // Get the search value
                                $(this).attr('title', $(this).val());
                                
                                // Perform the search
                                api.column(colIdx)
                                   .search(this.value)
                                   .draw();
                            })
                            .on('keyup', function (e) {
                                e.stopPropagation();
                                $(this).trigger('change');
                            });
                    });
                }
            });
        });
    </script>
</body>
</html>